<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MobileStore</title>
  <link rel="stylesheet" href="../css/main.css">
</head>
<body>
  <header>
    <h2>Profile</h2>
  </header>
  <main>
    
    <div class="profile-container">
      <div class="profile-tag">
        <h5>Username:</h5>
        <input class="username-value" type="text">
      </div>
      <div class="profile-tag">
        <h5>Status:</h5>
        <input value="Buyer" disabled>
      </div>
      <div class="profile-tag">
        <h5>Email:</h5>
        <input class="email-value" disabled>
      </div>
      <div class="profile-tag">
        <h5>Rate:</h5>
        <input value="Gold Month" disabled>
      </div>
    </div>
    
  </main>
  
  <br><br><br>
  
  <footer>
    <div class="tags">
      <div class="tag" onclick="location.replace('index.html')">
        <img src="../img/home.png" alt="">
      </div>
      <div class="tag" onclick="location.replace('search.html')">
        <img src="../img/search_dark.png" alt="">
      </div>
      <div class="tag" onclick="location.replace('basket.html')">
        <img src="../img/basket_dark.png" alt="">
      </div>
      <div class="tag">
        <img src="../img/person_dark.png" alt="">
        <h5>Profile</h5>
      </div>
    </div>
  </footer>

<script src="../js/check_connection.js"></script>
<script src="../js/check_user.js"></script>
<script>
  let usernameValue = document.querySelector(".username-value")
  let emailValue = document.querySelector(".email-value")
  let cur_user_data = null
  
  fetch(`https://somestore.onrender.com/get_user/?id=${cur_user["id"]}`)
  .then(response => response.json())
  .then(data => {
    if (data.status) {
      cur_user_data = data.user_data
      usernameValue.value = data.user_data[1]
      emailValue.value = data.user_data[2]
    } else {
      window.location.replace("../login.html")
    }
  })
</script>
</body>
</html>